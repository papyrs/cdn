{
  "version": 3,
  "sources": ["../../src/index.ts", "../../src/utils.ts", "../../src/image.utils.ts", "../../src/inject.utils.ts", "../../src/color.utils.ts", "../../src/selection.utils.ts", "../../src/editable.utils.ts"],
  "sourcesContent": ["export * from './utils';\nexport * from './image.utils';\nexport * from './inject.utils';\nexport * from './color.utils';\nexport * from './selection.utils';\nexport * from './editable.utils';\n", "export function unifyEvent(e: any): any {\n  return e.changedTouches ? e.changedTouches[0] : e;\n}\n\nexport function debounce(func: Function, timeout?: number) {\n  let timer: NodeJS.Timer | undefined;\n\n  return (...args: any[]) => {\n    const next = () => func(...args);\n\n    if (timer) {\n      clearTimeout(timer);\n    }\n\n    timer = setTimeout(next, timeout && timeout > 0 ? timeout : 300);\n  };\n}\n\nexport function isMobile(): boolean {\n  if (!window) {\n    return false;\n  }\n\n  const isTouchScreen: boolean = window.matchMedia('(any-pointer:coarse)').matches;\n  const isMouseScreen: boolean = window.matchMedia('(any-pointer:fine)').matches;\n\n  return isTouchScreen && !isMouseScreen;\n}\n\nexport function isIOS(): boolean {\n  if (!window || !navigator) {\n    return false;\n  }\n\n  const a: string = userAgent();\n\n  return /iPhone|iPod/i.test(a) || isIPad();\n}\n\nexport function isIPad(): boolean {\n  if (!window || !navigator) {\n    return false;\n  }\n\n  const a: string = userAgent();\n\n  // iOS 12 and below\n  if (/iPad/i.test(a)) {\n    return true;\n  }\n\n  // iOS 13+\n  return /Macintosh/i.test(a) && isMobile();\n}\n\nexport function isFullscreen(): boolean {\n  return (\n    // @ts-ignore\n    // prettier-ignore\n    !!(document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement)\n  );\n}\n\nexport function isFirefox(): boolean {\n  if (!window || !navigator) {\n    return false;\n  }\n\n  const a: string = userAgent();\n\n  return /firefox/i.test(a);\n}\n\nexport const isSafari = (): boolean => /apple/i.test(navigator.vendor);\n\nexport function isRTL(): boolean {\n  const htmlDir: string | null = document.documentElement.getAttribute('dir');\n  return htmlDir !== null && htmlDir === 'rtl';\n}\n\n// Source: Ionic ionic-framework/angular/src/providers/platform.ts\n\nexport function isLandscape(): boolean {\n  return !isPortrait();\n}\n\nexport function isPortrait(): boolean {\n  if (!window) {\n    return false;\n  }\n\n  return window.matchMedia && window.matchMedia('(orientation: portrait)').matches;\n}\n\n// Source: Ionic ionic-framework/core/src/utils/platform.ts\n\nexport const isAndroid = (): boolean => {\n  if (!window) {\n    return false;\n  }\n\n  const a: string = userAgent();\n\n  return /android|sink/i.test(a);\n};\n\nexport const isAndroidTablet = (): boolean => {\n  if (!window) {\n    return false;\n  }\n\n  const a: string = userAgent();\n\n  return isAndroid() && !/mobile/i.test(a);\n};\n\nconst userAgent = (): string => {\n  return navigator.userAgent || navigator.vendor || (window as any).opera;\n};\n", "export function lazyLoadSelectedImages(images: HTMLElement[]): Promise<void> {\n  return new Promise<void>((resolve) => {\n    if (!images) {\n      resolve();\n      return;\n    }\n\n    images.forEach((image: HTMLElement) => {\n      if (image.hasAttribute('data-src')) {\n        image.setAttribute('src', `${image.getAttribute('data-src')}`);\n        image.removeAttribute('data-src');\n\n        // If image is part of a reveal group, let it be revealed with the reveal feature\n        if (!image.classList.contains('deckgo-reveal')) {\n          image.style.setProperty('visibility', 'inherit');\n        }\n      }\n\n      // Furthermore to lazy loading, we set pointer-events to none. Doing so we prevent images of being dragged.\n      image.style.setProperty('pointer-events', 'none');\n    });\n\n    resolve();\n  });\n}\n\n// For simplicity reason we do not import the dependency here\ninterface HTMLDeckgoLazyImgElement extends HTMLElement {\n  lazyLoad: () => Promise<void>;\n}\n\nexport const lazyLoadSelectedLazyImagesComponent = async (components: HTMLElement[]): Promise<void> => {\n  const promises: Promise<void>[] = components.map((cmp: HTMLElement) => (cmp as HTMLDeckgoLazyImgElement).lazyLoad());\n  await Promise.all(promises);\n};\n", "export function injectJS(id: string, src: string): Promise<string> {\n  return new Promise<string>((resolve, reject) => {\n    if (document.getElementById(id)) {\n      resolve('JS already loaded.');\n      return;\n    }\n    const script = document.createElement('script');\n\n    script.id = id;\n    script.async = true;\n    script.defer = true;\n    script.src = src;\n\n    script.addEventListener('load', () => resolve('JS loaded.'));\n\n    script.addEventListener('error', () => reject('Error loading script.'));\n    script.addEventListener('abort', () => reject('Script loading aborted.'));\n\n    document.head.appendChild(script);\n  });\n}\n\nexport function injectCSS(id: string, src: string): Promise<string> {\n  return new Promise<string>((resolve, reject) => {\n    if (document.getElementById(id)) {\n      resolve('CSS already loaded.');\n      return;\n    }\n\n    const link = document.createElement('link');\n    link.id = id;\n    link.setAttribute('rel', 'stylesheet');\n    link.setAttribute('href', src);\n\n    link.addEventListener('load', () => resolve('CSS loaded.'));\n\n    link.addEventListener('error', () => reject('Error loading css.'));\n    link.addEventListener('abort', () => reject('CSS loading aborted.'));\n    document.head.appendChild(link);\n  });\n}\n", "// https://stackoverflow.com/a/5624139/5404186\nexport function hexToRgb(hex: string | undefined): string | undefined {\n  if (!hex || hex === undefined || hex === '') {\n    return undefined;\n  }\n\n  const result: RegExpExecArray | null = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n\n  return result ? `${parseInt(result[1], 16)}, ${parseInt(result[2], 16)}, ${parseInt(result[3], 16)}` : undefined;\n}\n\n// https://stackoverflow.com/a/42429333/5404186\nexport function rgbToHex(rgb: string | undefined): string | undefined {\n  if (!rgb) {\n    return undefined;\n  }\n\n  const toHex = (rgb: number[] | undefined): string | undefined => {\n    if (!rgb) {\n      return undefined;\n    }\n\n    return `#${rgb.map((v) => v.toString(16).padStart(2, '0')).join('')}`;\n  };\n\n  return toHex(extractRgb(rgb));\n}\n\nexport function extractRgb(rgb: string): number[] | undefined {\n  const match: RegExpMatchArray | null = rgb.match(/([.\\d]+),\\s*([.\\d]+),\\s*([.\\d]+)/);\n\n  if (!match) {\n    return undefined;\n  }\n\n  return match.splice(1, 3).map((v) => Number(v));\n}\n\nexport function extractRgba(rgb: string): number[] | undefined {\n  const match: RegExpMatchArray | null = rgb.match(/([.\\d]+),\\s*([.\\d]+),\\s*([.\\d]+),\\s*([.\\d]+)/);\n\n  if (!match) {\n    return undefined;\n  }\n\n  return match.splice(1, 4).map((v) => Number(v));\n}\n", "export const clearTheSelection = () => {\n  if (window && window.getSelection) {\n    if (window.getSelection()?.empty) {\n      window.getSelection()?.empty();\n    } else if (window.getSelection()?.removeAllRanges) {\n      window.getSelection()?.removeAllRanges();\n    }\n  } else if (document && (document as any).selection) {\n    (document as any).selection.empty();\n  }\n};\n\nexport const getSelection = (): Selection | null => {\n  if (window && window.getSelection) {\n    return window.getSelection();\n  } else if (document && document.getSelection) {\n    return document.getSelection();\n  } else if (document && (document as any).selection) {\n    return (document as any).selection.createRange().text;\n  }\n\n  return null;\n};\n\nexport const getAnchorElement = (selection: Selection | undefined): HTMLElement | null => {\n  const anchorNode: Node | null | undefined = selection?.anchorNode;\n\n  if (!anchorNode) {\n    return null;\n  }\n\n  return anchorNode.nodeType !== Node.TEXT_NODE && anchorNode.nodeType !== Node.COMMENT_NODE\n    ? (anchorNode as HTMLElement)\n    : anchorNode.parentElement;\n};\n\n// https://stackoverflow.com/a/3866442/5404186\nexport const moveCursorToEnd = (element: Node | undefined) => {\n  moveCursor({element, collapse: 'end'});\n};\n\nexport const moveCursorToStart = (element: Node | undefined) => {\n  moveCursor({element, collapse: 'start'});\n};\n\nconst moveCursor = ({element, collapse}: {element: Node | undefined; collapse: 'start' | 'end'}) => {\n  if (!element) {\n    return;\n  }\n\n  const range: Range = document.createRange();\n  range.selectNodeContents(element);\n  range.collapse(collapse === 'start');\n\n  addRangeAndDetach(range);\n};\n\nexport const moveCursorToOffset = ({element, offset}: {element: Node | undefined; offset: number}) => {\n  if (!element) {\n    return;\n  }\n\n  const range: Range = document.createRange();\n  range.setStart(element, offset);\n\n  addRangeAndDetach(range);\n};\n\nconst addRangeAndDetach = (range: Range) => {\n  const selection: Selection | null = getSelection();\n  selection?.removeAllRanges();\n  selection?.addRange(range);\n\n  range.detach();\n};\n\nexport const caretPosition = ({target}: {target: Node}): number | undefined => {\n  const selection: Selection | null = getSelection();\n\n  const range: Range | undefined = selection?.getRangeAt(0);\n  const clonedRange: Range | undefined = range?.cloneRange();\n\n  if (!clonedRange || !range) {\n    return undefined;\n  }\n\n  const {endContainer, endOffset} = range;\n\n  clonedRange.selectNodeContents(target);\n  clonedRange.setEnd(endContainer, endOffset);\n\n  return clonedRange.toString().length;\n};\n", "export const catchTab = ($event: KeyboardEvent) => {\n  if ($event?.key === 'Tab') {\n    $event.preventDefault();\n\n    document.execCommand('insertHTML', false, '&#009');\n  }\n};\n"],
  "mappings": "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",
  "names": []
}
