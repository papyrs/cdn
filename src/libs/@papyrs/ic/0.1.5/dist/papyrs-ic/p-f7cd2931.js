import{b as r,c as t,d as n,S as i,s as e,P as o,r as a}from"./p-30f115e3.js";const s=r(Object.freeze({__proto__:null,default:{}}));var f=t((function(r){!function(r){var t=function(r){var t,n=new Float64Array(16);if(r)for(t=0;t<r.length;t++)n[t]=r[t];return n},i=function(){throw new Error("no PRNG")},e=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var a=t(),f=t([1]),u=t([56129,1]),c=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),y=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),w=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),v=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function l(r,t,n,i){r[t]=n>>24&255,r[t+1]=n>>16&255,r[t+2]=n>>8&255,r[t+3]=255&n,r[t+4]=i>>24&255,r[t+5]=i>>16&255,r[t+6]=i>>8&255,r[t+7]=255&i}function p(r,t,n,i,e){var o,a=0;for(o=0;o<e;o++)a|=r[t+o]^n[i+o];return(1&a-1>>>8)-1}function A(r,t,n,i){return p(r,t,n,i,16)}function d(r,t,n,i){return p(r,t,n,i,32)}function b(r,t,n,i){!function(r,t,n,i){for(var e,o=255&i[0]|(255&i[1])<<8|(255&i[2])<<16|(255&i[3])<<24,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,u=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,c=255&i[4]|(255&i[5])<<8|(255&i[6])<<16|(255&i[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,y=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,w=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,v=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,l=255&i[8]|(255&i[9])<<8|(255&i[10])<<16|(255&i[11])<<24,p=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,A=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,d=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,b=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,_=255&i[12]|(255&i[13])<<8|(255&i[14])<<16|(255&i[15])<<24,E=o,U=a,g=s,M=f,S=u,m=c,x=h,O=y,B=w,K=v,T=l,k=p,Y=A,D=d,I=b,N=_,z=0;z<20;z+=2)E^=(e=(Y^=(e=(B^=(e=(S^=(e=E+Y|0)<<7|e>>>25)+E|0)<<9|e>>>23)+S|0)<<13|e>>>19)+B|0)<<18|e>>>14,m^=(e=(U^=(e=(D^=(e=(K^=(e=m+U|0)<<7|e>>>25)+m|0)<<9|e>>>23)+K|0)<<13|e>>>19)+D|0)<<18|e>>>14,T^=(e=(x^=(e=(g^=(e=(I^=(e=T+x|0)<<7|e>>>25)+T|0)<<9|e>>>23)+I|0)<<13|e>>>19)+g|0)<<18|e>>>14,N^=(e=(k^=(e=(O^=(e=(M^=(e=N+k|0)<<7|e>>>25)+N|0)<<9|e>>>23)+M|0)<<13|e>>>19)+O|0)<<18|e>>>14,E^=(e=(M^=(e=(g^=(e=(U^=(e=E+M|0)<<7|e>>>25)+E|0)<<9|e>>>23)+U|0)<<13|e>>>19)+g|0)<<18|e>>>14,m^=(e=(S^=(e=(O^=(e=(x^=(e=m+S|0)<<7|e>>>25)+m|0)<<9|e>>>23)+x|0)<<13|e>>>19)+O|0)<<18|e>>>14,T^=(e=(K^=(e=(B^=(e=(k^=(e=T+K|0)<<7|e>>>25)+T|0)<<9|e>>>23)+k|0)<<13|e>>>19)+B|0)<<18|e>>>14,N^=(e=(I^=(e=(D^=(e=(Y^=(e=N+I|0)<<7|e>>>25)+N|0)<<9|e>>>23)+Y|0)<<13|e>>>19)+D|0)<<18|e>>>14;U=U+a|0,g=g+s|0,M=M+f|0,S=S+u|0,m=m+c|0,x=x+h|0,O=O+y|0,B=B+w|0,K=K+v|0,T=T+l|0,k=k+p|0,Y=Y+A|0,D=D+d|0,I=I+b|0,N=N+_|0,r[0]=(E=E+o|0)>>>0&255,r[1]=E>>>8&255,r[2]=E>>>16&255,r[3]=E>>>24&255,r[4]=U>>>0&255,r[5]=U>>>8&255,r[6]=U>>>16&255,r[7]=U>>>24&255,r[8]=g>>>0&255,r[9]=g>>>8&255,r[10]=g>>>16&255,r[11]=g>>>24&255,r[12]=M>>>0&255,r[13]=M>>>8&255,r[14]=M>>>16&255,r[15]=M>>>24&255,r[16]=S>>>0&255,r[17]=S>>>8&255,r[18]=S>>>16&255,r[19]=S>>>24&255,r[20]=m>>>0&255,r[21]=m>>>8&255,r[22]=m>>>16&255,r[23]=m>>>24&255,r[24]=x>>>0&255,r[25]=x>>>8&255,r[26]=x>>>16&255,r[27]=x>>>24&255,r[28]=O>>>0&255,r[29]=O>>>8&255,r[30]=O>>>16&255,r[31]=O>>>24&255,r[32]=B>>>0&255,r[33]=B>>>8&255,r[34]=B>>>16&255,r[35]=B>>>24&255,r[36]=K>>>0&255,r[37]=K>>>8&255,r[38]=K>>>16&255,r[39]=K>>>24&255,r[40]=T>>>0&255,r[41]=T>>>8&255,r[42]=T>>>16&255,r[43]=T>>>24&255,r[44]=k>>>0&255,r[45]=k>>>8&255,r[46]=k>>>16&255,r[47]=k>>>24&255,r[48]=Y>>>0&255,r[49]=Y>>>8&255,r[50]=Y>>>16&255,r[51]=Y>>>24&255,r[52]=D>>>0&255,r[53]=D>>>8&255,r[54]=D>>>16&255,r[55]=D>>>24&255,r[56]=I>>>0&255,r[57]=I>>>8&255,r[58]=I>>>16&255,r[59]=I>>>24&255,r[60]=N>>>0&255,r[61]=N>>>8&255,r[62]=N>>>16&255,r[63]=N>>>24&255}(r,t,n,i)}function _(r,t,n,i){!function(r,t,n,i){for(var e,o=255&i[0]|(255&i[1])<<8|(255&i[2])<<16|(255&i[3])<<24,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,u=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,c=255&i[4]|(255&i[5])<<8|(255&i[6])<<16|(255&i[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,y=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,w=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,v=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,l=255&i[8]|(255&i[9])<<8|(255&i[10])<<16|(255&i[11])<<24,p=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,A=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,d=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,b=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,_=255&i[12]|(255&i[13])<<8|(255&i[14])<<16|(255&i[15])<<24,E=0;E<20;E+=2)o^=(e=(A^=(e=(w^=(e=(u^=(e=o+A|0)<<7|e>>>25)+o|0)<<9|e>>>23)+u|0)<<13|e>>>19)+w|0)<<18|e>>>14,c^=(e=(a^=(e=(d^=(e=(v^=(e=c+a|0)<<7|e>>>25)+c|0)<<9|e>>>23)+v|0)<<13|e>>>19)+d|0)<<18|e>>>14,l^=(e=(h^=(e=(s^=(e=(b^=(e=l+h|0)<<7|e>>>25)+l|0)<<9|e>>>23)+b|0)<<13|e>>>19)+s|0)<<18|e>>>14,_^=(e=(p^=(e=(y^=(e=(f^=(e=_+p|0)<<7|e>>>25)+_|0)<<9|e>>>23)+f|0)<<13|e>>>19)+y|0)<<18|e>>>14,o^=(e=(f^=(e=(s^=(e=(a^=(e=o+f|0)<<7|e>>>25)+o|0)<<9|e>>>23)+a|0)<<13|e>>>19)+s|0)<<18|e>>>14,c^=(e=(u^=(e=(y^=(e=(h^=(e=c+u|0)<<7|e>>>25)+c|0)<<9|e>>>23)+h|0)<<13|e>>>19)+y|0)<<18|e>>>14,l^=(e=(v^=(e=(w^=(e=(p^=(e=l+v|0)<<7|e>>>25)+l|0)<<9|e>>>23)+p|0)<<13|e>>>19)+w|0)<<18|e>>>14,_^=(e=(b^=(e=(d^=(e=(A^=(e=_+b|0)<<7|e>>>25)+_|0)<<9|e>>>23)+A|0)<<13|e>>>19)+d|0)<<18|e>>>14;r[0]=o>>>0&255,r[1]=o>>>8&255,r[2]=o>>>16&255,r[3]=o>>>24&255,r[4]=c>>>0&255,r[5]=c>>>8&255,r[6]=c>>>16&255,r[7]=c>>>24&255,r[8]=l>>>0&255,r[9]=l>>>8&255,r[10]=l>>>16&255,r[11]=l>>>24&255,r[12]=_>>>0&255,r[13]=_>>>8&255,r[14]=_>>>16&255,r[15]=_>>>24&255,r[16]=h>>>0&255,r[17]=h>>>8&255,r[18]=h>>>16&255,r[19]=h>>>24&255,r[20]=y>>>0&255,r[21]=y>>>8&255,r[22]=y>>>16&255,r[23]=y>>>24&255,r[24]=w>>>0&255,r[25]=w>>>8&255,r[26]=w>>>16&255,r[27]=w>>>24&255,r[28]=v>>>0&255,r[29]=v>>>8&255,r[30]=v>>>16&255,r[31]=v>>>24&255}(r,t,n,i)}var E=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function U(r,t,n,i,e,o,a){var s,f,u=new Uint8Array(16),c=new Uint8Array(64);for(f=0;f<16;f++)u[f]=0;for(f=0;f<8;f++)u[f]=o[f];for(;e>=64;){for(b(c,u,a,E),f=0;f<64;f++)r[t+f]=n[i+f]^c[f];for(s=1,f=8;f<16;f++)u[f]=255&(s=s+(255&u[f])|0),s>>>=8;e-=64,t+=64,i+=64}if(e>0)for(b(c,u,a,E),f=0;f<e;f++)r[t+f]=n[i+f]^c[f];return 0}function g(r,t,n,i,e){var o,a,s=new Uint8Array(16),f=new Uint8Array(64);for(a=0;a<16;a++)s[a]=0;for(a=0;a<8;a++)s[a]=i[a];for(;n>=64;){for(b(f,s,e,E),a=0;a<64;a++)r[t+a]=f[a];for(o=1,a=8;a<16;a++)s[a]=255&(o=o+(255&s[a])|0),o>>>=8;n-=64,t+=64}if(n>0)for(b(f,s,e,E),a=0;a<n;a++)r[t+a]=f[a];return 0}function M(r,t,n,i,e){var o=new Uint8Array(32);_(o,i,e,E);for(var a=new Uint8Array(8),s=0;s<8;s++)a[s]=i[s+16];return g(r,t,n,a,o)}function S(r,t,n,i,e,o,a){var s=new Uint8Array(32);_(s,o,a,E);for(var f=new Uint8Array(8),u=0;u<8;u++)f[u]=o[u+16];return U(r,t,n,i,e,f,s)}var m=function(r){var t,n,i,e,o,a,s,f;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,this.r[0]=8191&(t=255&r[0]|(255&r[1])<<8),this.r[1]=8191&(t>>>13|(n=255&r[2]|(255&r[3])<<8)<<3),this.r[2]=7939&(n>>>10|(i=255&r[4]|(255&r[5])<<8)<<6),this.r[3]=8191&(i>>>7|(e=255&r[6]|(255&r[7])<<8)<<9),this.r[4]=255&(e>>>4|(o=255&r[8]|(255&r[9])<<8)<<12),this.r[5]=o>>>1&8190,this.r[6]=8191&(o>>>14|(a=255&r[10]|(255&r[11])<<8)<<2),this.r[7]=8065&(a>>>11|(s=255&r[12]|(255&r[13])<<8)<<5),this.r[8]=8191&(s>>>8|(f=255&r[14]|(255&r[15])<<8)<<8),this.r[9]=f>>>5&127,this.pad[0]=255&r[16]|(255&r[17])<<8,this.pad[1]=255&r[18]|(255&r[19])<<8,this.pad[2]=255&r[20]|(255&r[21])<<8,this.pad[3]=255&r[22]|(255&r[23])<<8,this.pad[4]=255&r[24]|(255&r[25])<<8,this.pad[5]=255&r[26]|(255&r[27])<<8,this.pad[6]=255&r[28]|(255&r[29])<<8,this.pad[7]=255&r[30]|(255&r[31])<<8};function x(r,t,n,i,e,o){var a=new m(o);return a.update(n,i,e),a.finish(r,t),0}function O(r,t,n,i,e,o){var a=new Uint8Array(16);return x(a,0,n,i,e,o),A(r,t,a,0)}function B(r,t,n,i,e){var o;if(n<32)return-1;for(S(r,0,t,0,n,i,e),x(r,16,r,32,n-32,r),o=0;o<16;o++)r[o]=0;return 0}function K(r,t,n,i,e){var o,a=new Uint8Array(32);if(n<32)return-1;if(M(a,0,32,i,e),0!==O(t,16,t,32,n-32,a))return-1;for(S(r,0,t,0,n,i,e),o=0;o<32;o++)r[o]=0;return 0}function T(r,t){var n;for(n=0;n<16;n++)r[n]=0|t[n]}function k(r){var t,n,i=1;for(t=0;t<16;t++)n=r[t]+i+65535,i=Math.floor(n/65536),r[t]=n-65536*i;r[0]+=i-1+37*(i-1)}function Y(r,t,n){for(var i,e=~(n-1),o=0;o<16;o++)r[o]^=i=e&(r[o]^t[o]),t[o]^=i}function D(r,n){var i,e,o,a=t(),s=t();for(i=0;i<16;i++)s[i]=n[i];for(k(s),k(s),k(s),e=0;e<2;e++){for(a[0]=s[0]-65517,i=1;i<15;i++)a[i]=s[i]-65535-(a[i-1]>>16&1),a[i-1]&=65535;a[15]=s[15]-32767-(a[14]>>16&1),o=a[15]>>16&1,a[14]&=65535,Y(s,a,1-o)}for(i=0;i<16;i++)r[2*i]=255&s[i],r[2*i+1]=s[i]>>8}function I(r,t){var n=new Uint8Array(32),i=new Uint8Array(32);return D(n,r),D(i,t),d(n,0,i,0)}function N(r){var t=new Uint8Array(32);return D(t,r),1&t[0]}function z(r,t){var n;for(n=0;n<16;n++)r[n]=t[2*n]+(t[2*n+1]<<8);r[15]&=32767}function R(r,t,n){for(var i=0;i<16;i++)r[i]=t[i]+n[i]}function P(r,t,n){for(var i=0;i<16;i++)r[i]=t[i]-n[i]}function j(r,t,n){var i,e,o=0,a=0,s=0,f=0,u=0,c=0,h=0,y=0,w=0,v=0,l=0,p=0,A=0,d=0,b=0,_=0,E=0,U=0,g=0,M=0,S=0,m=0,x=0,O=0,B=0,K=0,T=0,k=0,Y=0,D=0,I=0,N=n[0],z=n[1],R=n[2],P=n[3],j=n[4],J=n[5],C=n[6],L=n[7],F=n[8],Z=n[9],q=n[10],$=n[11],H=n[12],X=n[13],G=n[14],W=n[15];o+=(i=t[0])*N,a+=i*z,s+=i*R,f+=i*P,u+=i*j,c+=i*J,h+=i*C,y+=i*L,w+=i*F,v+=i*Z,l+=i*q,p+=i*$,A+=i*H,d+=i*X,b+=i*G,_+=i*W,a+=(i=t[1])*N,s+=i*z,f+=i*R,u+=i*P,c+=i*j,h+=i*J,y+=i*C,w+=i*L,v+=i*F,l+=i*Z,p+=i*q,A+=i*$,d+=i*H,b+=i*X,_+=i*G,E+=i*W,s+=(i=t[2])*N,f+=i*z,u+=i*R,c+=i*P,h+=i*j,y+=i*J,w+=i*C,v+=i*L,l+=i*F,p+=i*Z,A+=i*q,d+=i*$,b+=i*H,_+=i*X,E+=i*G,U+=i*W,f+=(i=t[3])*N,u+=i*z,c+=i*R,h+=i*P,y+=i*j,w+=i*J,v+=i*C,l+=i*L,p+=i*F,A+=i*Z,d+=i*q,b+=i*$,_+=i*H,E+=i*X,U+=i*G,g+=i*W,u+=(i=t[4])*N,c+=i*z,h+=i*R,y+=i*P,w+=i*j,v+=i*J,l+=i*C,p+=i*L,A+=i*F,d+=i*Z,b+=i*q,_+=i*$,E+=i*H,U+=i*X,g+=i*G,M+=i*W,c+=(i=t[5])*N,h+=i*z,y+=i*R,w+=i*P,v+=i*j,l+=i*J,p+=i*C,A+=i*L,d+=i*F,b+=i*Z,_+=i*q,E+=i*$,U+=i*H,g+=i*X,M+=i*G,S+=i*W,h+=(i=t[6])*N,y+=i*z,w+=i*R,v+=i*P,l+=i*j,p+=i*J,A+=i*C,d+=i*L,b+=i*F,_+=i*Z,E+=i*q,U+=i*$,g+=i*H,M+=i*X,S+=i*G,m+=i*W,y+=(i=t[7])*N,w+=i*z,v+=i*R,l+=i*P,p+=i*j,A+=i*J,d+=i*C,b+=i*L,_+=i*F,E+=i*Z,U+=i*q,g+=i*$,M+=i*H,S+=i*X,m+=i*G,x+=i*W,w+=(i=t[8])*N,v+=i*z,l+=i*R,p+=i*P,A+=i*j,d+=i*J,b+=i*C,_+=i*L,E+=i*F,U+=i*Z,g+=i*q,M+=i*$,S+=i*H,m+=i*X,x+=i*G,O+=i*W,v+=(i=t[9])*N,l+=i*z,p+=i*R,A+=i*P,d+=i*j,b+=i*J,_+=i*C,E+=i*L,U+=i*F,g+=i*Z,M+=i*q,S+=i*$,m+=i*H,x+=i*X,O+=i*G,B+=i*W,l+=(i=t[10])*N,p+=i*z,A+=i*R,d+=i*P,b+=i*j,_+=i*J,E+=i*C,U+=i*L,g+=i*F,M+=i*Z,S+=i*q,m+=i*$,x+=i*H,O+=i*X,B+=i*G,K+=i*W,p+=(i=t[11])*N,A+=i*z,d+=i*R,b+=i*P,_+=i*j,E+=i*J,U+=i*C,g+=i*L,M+=i*F,S+=i*Z,m+=i*q,x+=i*$,O+=i*H,B+=i*X,K+=i*G,T+=i*W,A+=(i=t[12])*N,d+=i*z,b+=i*R,_+=i*P,E+=i*j,U+=i*J,g+=i*C,M+=i*L,S+=i*F,m+=i*Z,x+=i*q,O+=i*$,B+=i*H,K+=i*X,T+=i*G,k+=i*W,d+=(i=t[13])*N,b+=i*z,_+=i*R,E+=i*P,U+=i*j,g+=i*J,M+=i*C,S+=i*L,m+=i*F,x+=i*Z,O+=i*q,B+=i*$,K+=i*H,T+=i*X,k+=i*G,Y+=i*W,b+=(i=t[14])*N,_+=i*z,E+=i*R,U+=i*P,g+=i*j,M+=i*J,S+=i*C,m+=i*L,x+=i*F,O+=i*Z,B+=i*q,K+=i*$,T+=i*H,k+=i*X,Y+=i*G,D+=i*W,_+=(i=t[15])*N,a+=38*(U+=i*R),s+=38*(g+=i*P),f+=38*(M+=i*j),u+=38*(S+=i*J),c+=38*(m+=i*C),h+=38*(x+=i*L),y+=38*(O+=i*F),w+=38*(B+=i*Z),v+=38*(K+=i*q),l+=38*(T+=i*$),p+=38*(k+=i*H),A+=38*(Y+=i*X),d+=38*(D+=i*G),b+=38*(I+=i*W),o=(i=(o+=38*(E+=i*z))+(e=1)+65535)-65536*(e=Math.floor(i/65536)),a=(i=a+e+65535)-65536*(e=Math.floor(i/65536)),s=(i=s+e+65535)-65536*(e=Math.floor(i/65536)),f=(i=f+e+65535)-65536*(e=Math.floor(i/65536)),u=(i=u+e+65535)-65536*(e=Math.floor(i/65536)),c=(i=c+e+65535)-65536*(e=Math.floor(i/65536)),h=(i=h+e+65535)-65536*(e=Math.floor(i/65536)),y=(i=y+e+65535)-65536*(e=Math.floor(i/65536)),w=(i=w+e+65535)-65536*(e=Math.floor(i/65536)),v=(i=v+e+65535)-65536*(e=Math.floor(i/65536)),l=(i=l+e+65535)-65536*(e=Math.floor(i/65536)),p=(i=p+e+65535)-65536*(e=Math.floor(i/65536)),A=(i=A+e+65535)-65536*(e=Math.floor(i/65536)),d=(i=d+e+65535)-65536*(e=Math.floor(i/65536)),b=(i=b+e+65535)-65536*(e=Math.floor(i/65536)),_=(i=_+e+65535)-65536*(e=Math.floor(i/65536)),o=(i=(o+=e-1+37*(e-1))+(e=1)+65535)-65536*(e=Math.floor(i/65536)),a=(i=a+e+65535)-65536*(e=Math.floor(i/65536)),s=(i=s+e+65535)-65536*(e=Math.floor(i/65536)),f=(i=f+e+65535)-65536*(e=Math.floor(i/65536)),u=(i=u+e+65535)-65536*(e=Math.floor(i/65536)),c=(i=c+e+65535)-65536*(e=Math.floor(i/65536)),h=(i=h+e+65535)-65536*(e=Math.floor(i/65536)),y=(i=y+e+65535)-65536*(e=Math.floor(i/65536)),w=(i=w+e+65535)-65536*(e=Math.floor(i/65536)),v=(i=v+e+65535)-65536*(e=Math.floor(i/65536)),l=(i=l+e+65535)-65536*(e=Math.floor(i/65536)),p=(i=p+e+65535)-65536*(e=Math.floor(i/65536)),A=(i=A+e+65535)-65536*(e=Math.floor(i/65536)),d=(i=d+e+65535)-65536*(e=Math.floor(i/65536)),b=(i=b+e+65535)-65536*(e=Math.floor(i/65536)),_=(i=_+e+65535)-65536*(e=Math.floor(i/65536)),r[0]=o+=e-1+37*(e-1),r[1]=a,r[2]=s,r[3]=f,r[4]=u,r[5]=c,r[6]=h,r[7]=y,r[8]=w,r[9]=v,r[10]=l,r[11]=p,r[12]=A,r[13]=d,r[14]=b,r[15]=_}function J(r,t){j(r,t,t)}function C(r,n){var i,e=t();for(i=0;i<16;i++)e[i]=n[i];for(i=253;i>=0;i--)J(e,e),2!==i&&4!==i&&j(e,e,n);for(i=0;i<16;i++)r[i]=e[i]}function L(r,n){var i,e=t();for(i=0;i<16;i++)e[i]=n[i];for(i=250;i>=0;i--)J(e,e),1!==i&&j(e,e,n);for(i=0;i<16;i++)r[i]=e[i]}function F(r,n,i){var e,o,a=new Uint8Array(32),s=new Float64Array(80),f=t(),c=t(),h=t(),y=t(),w=t(),v=t();for(o=0;o<31;o++)a[o]=n[o];for(a[31]=127&n[31]|64,a[0]&=248,z(s,i),o=0;o<16;o++)c[o]=s[o],y[o]=f[o]=h[o]=0;for(f[0]=y[0]=1,o=254;o>=0;--o)Y(f,c,e=a[o>>>3]>>>(7&o)&1),Y(h,y,e),R(w,f,h),P(f,f,h),R(h,c,y),P(c,c,y),J(y,w),J(v,f),j(f,h,f),j(h,c,w),R(w,f,h),P(f,f,h),J(c,f),P(h,y,v),j(f,h,u),R(f,f,y),j(h,h,f),j(f,y,v),j(y,c,s),J(c,w),Y(f,c,e),Y(h,y,e);for(o=0;o<16;o++)s[o+16]=f[o],s[o+32]=h[o],s[o+48]=c[o],s[o+64]=y[o];var l=s.subarray(32),p=s.subarray(16);return C(l,l),j(p,p,l),D(r,p),0}function Z(r,t){return F(r,t,o)}function q(r,t){return i(t,32),Z(r,t)}function $(r,t,n){var i=new Uint8Array(32);return F(i,n,t),_(r,e,i,E)}m.prototype.blocks=function(r,t,n){for(var i,e,o,a,s,f,u,c,h,y,w,v,l,p,A,d,b,_,E,U=this.fin?0:2048,g=this.h[0],M=this.h[1],S=this.h[2],m=this.h[3],x=this.h[4],O=this.h[5],B=this.h[6],K=this.h[7],T=this.h[8],k=this.h[9],Y=this.r[0],D=this.r[1],I=this.r[2],N=this.r[3],z=this.r[4],R=this.r[5],P=this.r[6],j=this.r[7],J=this.r[8],C=this.r[9];n>=16;)y=h=0,y+=(g+=8191&(i=255&r[t+0]|(255&r[t+1])<<8))*Y,y+=(M+=8191&(i>>>13|(e=255&r[t+2]|(255&r[t+3])<<8)<<3))*(5*C),y+=(S+=8191&(e>>>10|(o=255&r[t+4]|(255&r[t+5])<<8)<<6))*(5*J),y+=(m+=8191&(o>>>7|(a=255&r[t+6]|(255&r[t+7])<<8)<<9))*(5*j),h=(y+=(x+=8191&(a>>>4|(s=255&r[t+8]|(255&r[t+9])<<8)<<12))*(5*P))>>>13,y&=8191,y+=(O+=s>>>1&8191)*(5*R),y+=(B+=8191&(s>>>14|(f=255&r[t+10]|(255&r[t+11])<<8)<<2))*(5*z),y+=(K+=8191&(f>>>11|(u=255&r[t+12]|(255&r[t+13])<<8)<<5))*(5*N),y+=(T+=8191&(u>>>8|(c=255&r[t+14]|(255&r[t+15])<<8)<<8))*(5*I),w=h+=(y+=(k+=c>>>5|U)*(5*D))>>>13,w+=g*D,w+=M*Y,w+=S*(5*C),w+=m*(5*J),h=(w+=x*(5*j))>>>13,w&=8191,w+=O*(5*P),w+=B*(5*R),w+=K*(5*z),w+=T*(5*N),h+=(w+=k*(5*I))>>>13,w&=8191,v=h,v+=g*I,v+=M*D,v+=S*Y,v+=m*(5*C),h=(v+=x*(5*J))>>>13,v&=8191,v+=O*(5*j),v+=B*(5*P),v+=K*(5*R),v+=T*(5*z),l=h+=(v+=k*(5*N))>>>13,l+=g*N,l+=M*I,l+=S*D,l+=m*Y,h=(l+=x*(5*C))>>>13,l&=8191,l+=O*(5*J),l+=B*(5*j),l+=K*(5*P),l+=T*(5*R),p=h+=(l+=k*(5*z))>>>13,p+=g*z,p+=M*N,p+=S*I,p+=m*D,h=(p+=x*Y)>>>13,p&=8191,p+=O*(5*C),p+=B*(5*J),p+=K*(5*j),p+=T*(5*P),A=h+=(p+=k*(5*R))>>>13,A+=g*R,A+=M*z,A+=S*N,A+=m*I,h=(A+=x*D)>>>13,A&=8191,A+=O*Y,A+=B*(5*C),A+=K*(5*J),A+=T*(5*j),d=h+=(A+=k*(5*P))>>>13,d+=g*P,d+=M*R,d+=S*z,d+=m*N,h=(d+=x*I)>>>13,d&=8191,d+=O*D,d+=B*Y,d+=K*(5*C),d+=T*(5*J),b=h+=(d+=k*(5*j))>>>13,b+=g*j,b+=M*P,b+=S*R,b+=m*z,h=(b+=x*N)>>>13,b&=8191,b+=O*I,b+=B*D,b+=K*Y,b+=T*(5*C),_=h+=(b+=k*(5*J))>>>13,_+=g*J,_+=M*j,_+=S*P,_+=m*R,h=(_+=x*z)>>>13,_&=8191,_+=O*N,_+=B*I,_+=K*D,_+=T*Y,E=h+=(_+=k*(5*C))>>>13,E+=g*C,E+=M*J,E+=S*j,E+=m*P,h=(E+=x*R)>>>13,E&=8191,E+=O*z,E+=B*N,E+=K*I,E+=T*D,g=y=8191&(h=(h=((h+=(E+=k*Y)>>>13)<<2)+h|0)+(y&=8191)|0),M=w+=h>>>=13,S=v&=8191,m=l&=8191,x=p&=8191,O=A&=8191,B=d&=8191,K=b&=8191,T=_&=8191,k=E&=8191,t+=16,n-=16;this.h[0]=g,this.h[1]=M,this.h[2]=S,this.h[3]=m,this.h[4]=x,this.h[5]=O,this.h[6]=B,this.h[7]=K,this.h[8]=T,this.h[9]=k},m.prototype.finish=function(r,t){var n,i,e,o,a=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=n,n=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,a[0]=this.h[0]+5,n=a[0]>>>13,a[0]&=8191,o=1;o<10;o++)a[o]=this.h[o]+n,n=a[o]>>>13,a[o]&=8191;for(a[9]-=8192,i=(1^n)-1,o=0;o<10;o++)a[o]&=i;for(i=~i,o=0;o<10;o++)this.h[o]=this.h[o]&i|a[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),this.h[0]=65535&(e=this.h[0]+this.pad[0]),o=1;o<8;o++)this.h[o]=65535&(e=(this.h[o]+this.pad[o]|0)+(e>>>16)|0);r[t+0]=this.h[0]>>>0&255,r[t+1]=this.h[0]>>>8&255,r[t+2]=this.h[1]>>>0&255,r[t+3]=this.h[1]>>>8&255,r[t+4]=this.h[2]>>>0&255,r[t+5]=this.h[2]>>>8&255,r[t+6]=this.h[3]>>>0&255,r[t+7]=this.h[3]>>>8&255,r[t+8]=this.h[4]>>>0&255,r[t+9]=this.h[4]>>>8&255,r[t+10]=this.h[5]>>>0&255,r[t+11]=this.h[5]>>>8&255,r[t+12]=this.h[6]>>>0&255,r[t+13]=this.h[6]>>>8&255,r[t+14]=this.h[7]>>>0&255,r[t+15]=this.h[7]>>>8&255},m.prototype.update=function(r,t,n){var i,e;if(this.leftover){for((e=16-this.leftover)>n&&(e=n),i=0;i<e;i++)this.buffer[this.leftover+i]=r[t+i];if(n-=e,t+=e,this.leftover+=e,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(this.blocks(r,t,e=n-n%16),t+=e,n-=e),n){for(i=0;i<n;i++)this.buffer[this.leftover+i]=r[t+i];this.leftover+=n}};var H=B,X=K,G=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function W(r,t,n,i){for(var e,o,a,s,f,u,c,h,y,w,v,l,p,A,d,b,_,E,U,g,M,S,m=new Int32Array(16),x=new Int32Array(16),O=r[0],B=r[1],K=r[2],T=r[3],k=r[4],Y=r[5],D=r[6],I=r[7],N=t[0],z=t[1],R=t[2],P=t[3],j=t[4],J=t[5],C=t[6],L=t[7],F=0;i>=128;){for(d=0;d<16;d++)m[d]=n[(b=8*d+F)+0]<<24|n[b+1]<<16|n[b+2]<<8|n[b+3],x[d]=n[b+4]<<24|n[b+5]<<16|n[b+6]<<8|n[b+7];for(d=0;d<80;d++)if(e=B,o=K,a=k,s=Y,f=D,c=z,h=R,y=j,w=J,v=C,U=65535&(E=L),g=E>>>16,M=65535&(_=I),S=_>>>16,U+=65535&(E=(j>>>14|k<<18)^(j>>>18|k<<14)^(k>>>9|j<<23)),g+=E>>>16,M+=65535&(_=(k>>>14|j<<18)^(k>>>18|j<<14)^(j>>>9|k<<23)),S+=_>>>16,U+=65535&(E=j&J^~j&C),g+=E>>>16,M+=65535&(_=k&Y^~k&D),S+=_>>>16,U+=65535&(E=G[2*d+1]),g+=E>>>16,M+=65535&(_=G[2*d]),S+=_>>>16,g+=(E=x[d%16])>>>16,M+=65535&(_=m[d%16]),S+=_>>>16,M+=(g+=(U+=65535&E)>>>16)>>>16,U=65535&(E=A=65535&U|g<<16),g=E>>>16,M=65535&(_=p=65535&M|(S+=M>>>16)<<16),S=_>>>16,U+=65535&(E=(N>>>28|O<<4)^(O>>>2|N<<30)^(O>>>7|N<<25)),g+=E>>>16,M+=65535&(_=(O>>>28|N<<4)^(N>>>2|O<<30)^(N>>>7|O<<25)),S+=_>>>16,g+=(E=N&z^N&R^z&R)>>>16,M+=65535&(_=O&B^O&K^B&K),S+=_>>>16,u=65535&(M+=(g+=(U+=65535&E)>>>16)>>>16)|(S+=M>>>16)<<16,l=65535&U|g<<16,U=65535&(E=P),g=E>>>16,M=65535&(_=T),S=_>>>16,g+=(E=A)>>>16,M+=65535&(_=p),S+=_>>>16,B=O,K=e,T=o,k=65535&(M+=(g+=(U+=65535&E)>>>16)>>>16)|(S+=M>>>16)<<16,Y=a,D=s,I=f,O=u,z=N,R=c,P=h,j=65535&U|g<<16,J=y,C=w,L=v,N=l,d%16==15)for(b=0;b<16;b++)U=65535&(E=x[b]),g=E>>>16,M=65535&(_=m[b]),S=_>>>16,U+=65535&(E=x[(b+9)%16]),g+=E>>>16,M+=65535&(_=m[(b+9)%16]),S+=_>>>16,U+=65535&(E=((A=x[(b+1)%16])>>>1|(p=m[(b+1)%16])<<31)^(A>>>8|p<<24)^(A>>>7|p<<25)),g+=E>>>16,M+=65535&(_=(p>>>1|A<<31)^(p>>>8|A<<24)^p>>>7),S+=_>>>16,g+=(E=((A=x[(b+14)%16])>>>19|(p=m[(b+14)%16])<<13)^(p>>>29|A<<3)^(A>>>6|p<<26))>>>16,M+=65535&(_=(p>>>19|A<<13)^(A>>>29|p<<3)^p>>>6),S+=_>>>16,m[b]=65535&(M+=(g+=(U+=65535&E)>>>16)>>>16)|(S+=M>>>16)<<16,x[b]=65535&U|g<<16;U=65535&(E=N),g=E>>>16,M=65535&(_=O),S=_>>>16,g+=(E=t[0])>>>16,M+=65535&(_=r[0]),S+=_>>>16,r[0]=O=65535&(M+=(g+=(U+=65535&E)>>>16)>>>16)|(S+=M>>>16)<<16,t[0]=N=65535&U|g<<16,U=65535&(E=z),g=E>>>16,M=65535&(_=B),S=_>>>16,g+=(E=t[1])>>>16,M+=65535&(_=r[1]),S+=_>>>16,r[1]=B=65535&(M+=(g+=(U+=65535&E)>>>16)>>>16)|(S+=M>>>16)<<16,t[1]=z=65535&U|g<<16,U=65535&(E=R),g=E>>>16,M=65535&(_=K),S=_>>>16,g+=(E=t[2])>>>16,M+=65535&(_=r[2]),S+=_>>>16,r[2]=K=65535&(M+=(g+=(U+=65535&E)>>>16)>>>16)|(S+=M>>>16)<<16,t[2]=R=65535&U|g<<16,U=65535&(E=P),g=E>>>16,M=65535&(_=T),S=_>>>16,g+=(E=t[3])>>>16,M+=65535&(_=r[3]),S+=_>>>16,r[3]=T=65535&(M+=(g+=(U+=65535&E)>>>16)>>>16)|(S+=M>>>16)<<16,t[3]=P=65535&U|g<<16,U=65535&(E=j),g=E>>>16,M=65535&(_=k),S=_>>>16,g+=(E=t[4])>>>16,M+=65535&(_=r[4]),S+=_>>>16,r[4]=k=65535&(M+=(g+=(U+=65535&E)>>>16)>>>16)|(S+=M>>>16)<<16,t[4]=j=65535&U|g<<16,U=65535&(E=J),g=E>>>16,M=65535&(_=Y),S=_>>>16,g+=(E=t[5])>>>16,M+=65535&(_=r[5]),S+=_>>>16,r[5]=Y=65535&(M+=(g+=(U+=65535&E)>>>16)>>>16)|(S+=M>>>16)<<16,t[5]=J=65535&U|g<<16,U=65535&(E=C),g=E>>>16,M=65535&(_=D),S=_>>>16,g+=(E=t[6])>>>16,M+=65535&(_=r[6]),S+=_>>>16,r[6]=D=65535&(M+=(g+=(U+=65535&E)>>>16)>>>16)|(S+=M>>>16)<<16,t[6]=C=65535&U|g<<16,U=65535&(E=L),g=E>>>16,M=65535&(_=I),S=_>>>16,g+=(E=t[7])>>>16,M+=65535&(_=r[7]),S+=_>>>16,r[7]=I=65535&(M+=(g+=(U+=65535&E)>>>16)>>>16)|(S+=M>>>16)<<16,t[7]=L=65535&U|g<<16,F+=128,i-=128}return i}function Q(r,t,n){var i,e=new Int32Array(8),o=new Int32Array(8),a=new Uint8Array(256),s=n;for(e[0]=1779033703,e[1]=3144134277,e[2]=1013904242,e[3]=2773480762,e[4]=1359893119,e[5]=2600822924,e[6]=528734635,e[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,W(e,o,t,n),n%=128,i=0;i<n;i++)a[i]=t[s-n+i];for(a[n]=128,a[(n=256-128*(n<112?1:0))-9]=0,l(a,n-8,s/536870912|0,s<<3),W(e,o,a,n),i=0;i<8;i++)l(r,8*i,e[i],o[i]);return 0}function V(r,n){var i=t(),e=t(),o=t(),a=t(),s=t(),f=t(),u=t(),c=t(),y=t();P(i,r[1],r[0]),P(y,n[1],n[0]),j(i,i,y),R(e,r[0],r[1]),R(y,n[0],n[1]),j(e,e,y),j(o,r[3],n[3]),j(o,o,h),j(a,r[2],n[2]),R(a,a,a),P(s,e,i),P(f,a,o),R(u,a,o),R(c,e,i),j(r[0],s,f),j(r[1],c,u),j(r[2],u,f),j(r[3],s,c)}function rr(r,t,n){var i;for(i=0;i<4;i++)Y(r[i],t[i],n)}function tr(r,n){var i=t(),e=t(),o=t();C(o,n[2]),j(i,n[0],o),j(e,n[1],o),D(r,e),r[31]^=N(i)<<7}function nr(r,t,n){var i,e;for(T(r[0],a),T(r[1],f),T(r[2],f),T(r[3],a),e=255;e>=0;--e)rr(r,t,i=n[e/8|0]>>(7&e)&1),V(t,r),V(r,r),rr(r,t,i)}function ir(r,n){var i=[t(),t(),t(),t()];T(i[0],y),T(i[1],w),T(i[2],f),j(i[3],y,w),nr(r,i,n)}function er(r,n,e){var o,a=new Uint8Array(64),s=[t(),t(),t(),t()];for(e||i(n,32),Q(a,n,32),a[0]&=248,a[31]&=127,a[31]|=64,ir(s,a),tr(r,s),o=0;o<32;o++)n[o+32]=r[o];return 0}var or=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ar(r,t){var n,i,e,o;for(i=63;i>=32;--i){for(n=0,e=i-32,o=i-12;e<o;++e)t[e]+=n-16*t[i]*or[e-(i-32)],n=Math.floor((t[e]+128)/256),t[e]-=256*n;t[e]+=n,t[i]=0}for(n=0,e=0;e<32;e++)t[e]+=n-(t[31]>>4)*or[e],n=t[e]>>8,t[e]&=255;for(e=0;e<32;e++)t[e]-=n*or[e];for(i=0;i<32;i++)t[i+1]+=t[i]>>8,r[i]=255&t[i]}function sr(r){var t,n=new Float64Array(64);for(t=0;t<64;t++)n[t]=r[t];for(t=0;t<64;t++)r[t]=0;ar(r,n)}function fr(r,n,i,e){var o,a,s=new Uint8Array(64),f=new Uint8Array(64),u=new Uint8Array(64),c=new Float64Array(64),h=[t(),t(),t(),t()];Q(s,e,32),s[0]&=248,s[31]&=127,s[31]|=64;var y=i+64;for(o=0;o<i;o++)r[64+o]=n[o];for(o=0;o<32;o++)r[32+o]=s[32+o];for(Q(u,r.subarray(32),i+32),sr(u),ir(h,u),tr(r,h),o=32;o<64;o++)r[o]=e[o];for(Q(f,r,i+64),sr(f),o=0;o<64;o++)c[o]=0;for(o=0;o<32;o++)c[o]=u[o];for(o=0;o<32;o++)for(a=0;a<32;a++)c[o+a]+=f[o]*s[a];return ar(r.subarray(32),c),y}function ur(r,n,i,e){var o,s=new Uint8Array(32),u=new Uint8Array(64),h=[t(),t(),t(),t()],y=[t(),t(),t(),t()];if(i<64)return-1;if(function(r,n){var i=t(),e=t(),o=t(),s=t(),u=t(),h=t(),y=t();return T(r[2],f),z(r[1],n),J(o,r[1]),j(s,o,c),P(o,o,r[2]),R(s,r[2],s),J(u,s),J(h,u),j(y,h,u),j(i,y,o),j(i,i,s),L(i,i),j(i,i,o),j(i,i,s),j(i,i,s),j(r[0],i,s),J(e,r[0]),j(e,e,s),I(e,o)&&j(r[0],r[0],v),J(e,r[0]),j(e,e,s),I(e,o)?-1:(N(r[0])===n[31]>>7&&P(r[0],a,r[0]),j(r[3],r[0],r[1]),0)}(y,e))return-1;for(o=0;o<i;o++)r[o]=n[o];for(o=0;o<32;o++)r[o+32]=e[o];if(Q(u,r,i),sr(u),nr(h,y,u),ir(y,n.subarray(32)),V(h,y),tr(s,h),i-=64,d(n,0,s,0)){for(o=0;o<i;o++)r[o]=0;return-1}for(o=0;o<i;o++)r[o]=n[o+64];return i}var cr,hr=64,yr=32,wr=64;function vr(r,t){if(32!==r.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function lr(){for(var r=0;r<arguments.length;r++)if(!(arguments[r]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function pr(r){for(var t=0;t<r.length;t++)r[t]=0}r.lowlevel={crypto_core_hsalsa20:_,crypto_stream_xor:S,crypto_stream:M,crypto_stream_salsa20_xor:U,crypto_stream_salsa20:g,crypto_onetimeauth:x,crypto_onetimeauth_verify:O,crypto_verify_16:A,crypto_verify_32:d,crypto_secretbox:B,crypto_secretbox_open:K,crypto_scalarmult:F,crypto_scalarmult_base:Z,crypto_box_beforenm:$,crypto_box_afternm:H,crypto_box:function(r,t,n,i,e,o){var a=new Uint8Array(32);return $(a,e,o),H(r,t,n,i,a)},crypto_box_open:function(r,t,n,i,e,o){var a=new Uint8Array(32);return $(a,e,o),X(r,t,n,i,a)},crypto_box_keypair:q,crypto_hash:Q,crypto_sign:fr,crypto_sign_keypair:er,crypto_sign_open:ur,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:hr,crypto_sign_PUBLICKEYBYTES:yr,crypto_sign_SECRETKEYBYTES:wr,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:c,L:or,pack25519:D,unpack25519:z,M:j,A:R,S:J,Z:P,pow2523:L,add:V,set25519:T,modL:ar,scalarmult:nr,scalarbase:ir},r.randomBytes=function(r){var t=new Uint8Array(r);return i(t,r),t},r.secretbox=function(r,t,n){lr(r,t,n),vr(n,t);for(var i=new Uint8Array(32+r.length),e=new Uint8Array(i.length),o=0;o<r.length;o++)i[o+32]=r[o];return B(e,i,i.length,t,n),e.subarray(16)},r.secretbox.open=function(r,t,n){lr(r,t,n),vr(n,t);for(var i=new Uint8Array(16+r.length),e=new Uint8Array(i.length),o=0;o<r.length;o++)i[o+16]=r[o];return i.length<32||0!==K(e,i,i.length,t,n)?null:e.subarray(32)},r.secretbox.keyLength=32,r.secretbox.nonceLength=24,r.secretbox.overheadLength=16,r.scalarMult=function(r,t){if(lr(r,t),32!==r.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var n=new Uint8Array(32);return F(n,r,t),n},r.scalarMult.base=function(r){if(lr(r),32!==r.length)throw new Error("bad n size");var t=new Uint8Array(32);return Z(t,r),t},r.scalarMult.scalarLength=32,r.scalarMult.groupElementLength=32,r.box=function(t,n,i,e){var o=r.box.before(i,e);return r.secretbox(t,n,o)},r.box.before=function(r,t){lr(r,t),function(r,t){if(32!==r.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(r,t);var n=new Uint8Array(32);return $(n,r,t),n},r.box.after=r.secretbox,r.box.open=function(t,n,i,e){var o=r.box.before(i,e);return r.secretbox.open(t,n,o)},r.box.open.after=r.secretbox.open,r.box.keyPair=function(){var r=new Uint8Array(32),t=new Uint8Array(32);return q(r,t),{publicKey:r,secretKey:t}},r.box.keyPair.fromSecretKey=function(r){if(lr(r),32!==r.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return Z(t,r),{publicKey:t,secretKey:new Uint8Array(r)}},r.box.publicKeyLength=32,r.box.secretKeyLength=32,r.box.sharedKeyLength=32,r.box.nonceLength=24,r.box.overheadLength=r.secretbox.overheadLength,r.sign=function(r,t){if(lr(r,t),t.length!==wr)throw new Error("bad secret key size");var n=new Uint8Array(hr+r.length);return fr(n,r,r.length,t),n},r.sign.open=function(r,t){if(lr(r,t),t.length!==yr)throw new Error("bad public key size");var n=new Uint8Array(r.length),i=ur(n,r,r.length,t);if(i<0)return null;for(var e=new Uint8Array(i),o=0;o<e.length;o++)e[o]=n[o];return e},r.sign.detached=function(t,n){for(var i=r.sign(t,n),e=new Uint8Array(hr),o=0;o<e.length;o++)e[o]=i[o];return e},r.sign.detached.verify=function(r,t,n){if(lr(r,t,n),t.length!==hr)throw new Error("bad signature size");if(n.length!==yr)throw new Error("bad public key size");var i,e=new Uint8Array(hr+r.length),o=new Uint8Array(hr+r.length);for(i=0;i<hr;i++)e[i]=t[i];for(i=0;i<r.length;i++)e[i+hr]=r[i];return ur(o,e,e.length,n)>=0},r.sign.keyPair=function(){var r=new Uint8Array(yr),t=new Uint8Array(wr);return er(r,t),{publicKey:r,secretKey:t}},r.sign.keyPair.fromSecretKey=function(r){if(lr(r),r.length!==wr)throw new Error("bad secret key size");for(var t=new Uint8Array(yr),n=0;n<t.length;n++)t[n]=r[32+n];return{publicKey:t,secretKey:new Uint8Array(r)}},r.sign.keyPair.fromSeed=function(r){if(lr(r),32!==r.length)throw new Error("bad seed size");for(var t=new Uint8Array(yr),n=new Uint8Array(wr),i=0;i<32;i++)n[i]=r[i];return er(t,n,!0),{publicKey:t,secretKey:n}},r.sign.publicKeyLength=yr,r.sign.secretKeyLength=wr,r.sign.seedLength=32,r.sign.signatureLength=hr,r.hash=function(r){lr(r);var t=new Uint8Array(64);return Q(t,r,r.length),t},r.hash.hashLength=64,r.verify=function(r,t){return lr(r,t),0!==r.length&&0!==t.length&&r.length===t.length&&0===p(r,0,t,0,r.length)},r.setPRNG=function(r){i=r},(cr="undefined"!=typeof self?self.crypto||self.msCrypto:null)&&cr.getRandomValues?r.setPRNG((function(r,t){var n,i=new Uint8Array(t);for(n=0;n<t;n+=65536)cr.getRandomValues(i.subarray(n,n+Math.min(t-n,65536)));for(n=0;n<t;n++)r[n]=i[n];pr(i)})):void 0!==n&&(cr=s)&&cr.randomBytes&&r.setPRNG((function(r,t){var n,i=cr.randomBytes(t);for(n=0;n<t;n++)r[n]=i[n];pr(i)}))}(r.exports?r.exports:self.nacl=self.nacl||{})}));function u(r){var t;return new Uint8Array((null!==(t=r.match(/.{1,2}/g))&&void 0!==t?t:[]).map((r=>parseInt(r,16)))).buffer}function c(r){return new Uint8Array(r).reduce(((r,t)=>r+t.toString(16).padStart(2,"0")),"")}const h=r=>{if(r<=127)return 1;if(r<=255)return 2;if(r<=65535)return 3;if(r<=16777215)return 4;throw new Error("Length too long (> 4 bytes)")},y=(r,t,n)=>{if(n<=127)return r[t]=n,1;if(n<=255)return r[t]=129,r[t+1]=n,2;if(n<=65535)return r[t]=130,r[t+1]=n>>8,r[t+2]=n,3;if(n<=16777215)return r[t]=131,r[t+1]=n>>16,r[t+2]=n>>8,r[t+3]=n,4;throw new Error("Length too long (> 4 bytes)")},w=(r,t)=>{if(r[t]<128)return 1;if(128===r[t])throw new Error("Invalid length 0");if(129===r[t])return 2;if(130===r[t])return 3;if(131===r[t])return 4;throw new Error("Length too long (> 4 bytes)")},v=Uint8Array.from([48,5,6,3,43,101,112]);class l{constructor(r){this.rawKey=r,this.derKey=l.derEncode(r)}static from(r){return this.fromDer(r.toDer())}static fromRaw(r){return new l(r)}static fromDer(r){return new l(this.derDecode(r))}static derEncode(r){return function(r,t){const n=2+h(r.byteLength+1),i=t.byteLength+n+r.byteLength;let e=0;const o=new Uint8Array(1+h(i)+i);return o[e++]=48,e+=y(o,e,i),o.set(t,e),e+=t.byteLength,o[e++]=3,e+=y(o,e,r.byteLength+1),o[e++]=0,o.set(new Uint8Array(r),e),o}(r,v).buffer}static derDecode(r){const t=((r,t)=>{let n=0;const i=(r,t)=>{if(e[n++]!==r)throw new Error("Expected: "+t)},e=new Uint8Array(r);if(i(48,"sequence"),n+=w(e,n),!((r,t)=>{if(r.byteLength!==t.byteLength)return!1;const n=new Uint8Array(r),i=new Uint8Array(t);for(let r=0;r<n.length;r++)if(n[r]!==i[r])return!1;return!0})(e.slice(n,n+t.byteLength),t))throw new Error("Not the expected OID.");n+=t.byteLength,i(3,"bit string");const o=((r,t)=>{const n=w(r,t);if(1===n)return r[t];if(2===n)return r[t+1];if(3===n)return(r[t+1]<<8)+r[t+2];if(4===n)return(r[t+1]<<16)+(r[t+2]<<8)+r[t+3];throw new Error("Length too long (> 4 bytes)")})(e,n)-1;n+=w(e,n),i(0,"0 padding");const a=e.slice(n);if(o!==a.length)throw new Error(`DER payload mismatch: Expected length ${o} actual length ${a.length}`);return a})(r,v);if(t.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return t}toDer(){return this.derKey}toRaw(){return this.rawKey}}l.RAW_KEY_LENGTH=32;class p extends i{constructor(r,t){super(),this._privateKey=t,this._publicKey=l.from(r)}static generate(r){if(r&&32!==r.length)throw new Error("Ed25519 Seed needs to be 32 bytes long.");const{publicKey:t,secretKey:n}=void 0===r?f.sign.keyPair():f.sign.keyPair.fromSeed(r);return new this(l.fromRaw(t),n)}static fromParsedJson(r){const[t,n]=r;return new p(l.fromDer(u(t)),u(n))}static fromJSON(r){const t=JSON.parse(r);if(Array.isArray(t)){if("string"==typeof t[0]&&"string"==typeof t[1])return this.fromParsedJson([t[0],t[1]]);throw new Error("Deserialization error: JSON must have at least 2 items.")}throw new Error(`Deserialization error: Invalid JSON type for string: ${JSON.stringify(r)}`)}static fromKeyPair(r,t){return new p(l.fromRaw(r),t)}static fromSecretKey(r){const t=f.sign.keyPair.fromSecretKey(new Uint8Array(r));return p.fromKeyPair(t.publicKey,t.secretKey)}toJSON(){return[c(this._publicKey.toDer()),c(this._privateKey)]}getKeyPair(){return{secretKey:this._privateKey,publicKey:this._publicKey}}getPublicKey(){return this._publicKey}async sign(r){const t=new Uint8Array(r);return f.sign.detached(t,new Uint8Array(this._privateKey)).buffer}}const A=(new TextEncoder).encode("ic-request-auth-delegation"),d=(new TextEncoder).encode("\nic-request");function b(r){if("string"!=typeof r||r.length<64)throw new Error("Invalid public key.");return u(r)}class _{constructor(r,t,n){this.pubkey=r,this.expiration=t,this.targets=n}toCBOR(){return e.value.map(Object.assign({pubkey:e.value.bytes(this.pubkey),expiration:e.value.u64(this.expiration.toString(16),16)},this.targets&&{targets:e.value.array(this.targets.map((r=>e.value.bytes(r.toUint8Array()))))}))}toJSON(){return Object.assign({expiration:this.expiration.toString(16),pubkey:c(this.pubkey)},this.targets&&{targets:this.targets.map((r=>r.toHex()))})}}class E{constructor(r,t){this.delegations=r,this.publicKey=t}static async create(r,t,n=new Date(Date.now()+9e5),i={}){var e,o;const s=await async function(r,t,n,i){const e=new _(t.toDer(),BigInt(+n)*BigInt(1e6),i),o=new Uint8Array([...A,...new Uint8Array(a(e))]);return{delegation:e,signature:await r.sign(o)}}(r,t,n,i.targets);return new E([...(null===(e=i.previous)||void 0===e?void 0:e.delegations)||[],s],(null===(o=i.previous)||void 0===o?void 0:o.publicKey)||r.getPublicKey().toDer())}static fromJSON(r){const{publicKey:t,delegations:n}="string"==typeof r?JSON.parse(r):r;if(!Array.isArray(n))throw new Error("Invalid delegations.");return new this(n.map((r=>{const{delegation:t,signature:n}=r,{pubkey:i,expiration:e,targets:a}=t;if(void 0!==a&&!Array.isArray(a))throw new Error("Invalid targets.");return{delegation:new _(b(i),BigInt(`0x${e}`),a&&a.map((r=>{if("string"!=typeof r)throw new Error("Invalid target.");return o.fromHex(r)}))),signature:b(n)}})),b(t))}static fromDelegations(r,t){return new this(r,t)}toJSON(){return{delegations:this.delegations.map((r=>{const{delegation:t,signature:n}=r,{targets:i}=t;return{delegation:Object.assign({expiration:t.expiration.toString(16),pubkey:c(t.pubkey)},i&&{targets:i.map((r=>r.toHex()))}),signature:c(n)}})),publicKey:c(this.publicKey)}}}class U extends i{constructor(r,t){super(),this._inner=r,this._delegation=t}static fromDelegation(r,t){return new this(r,t)}getDelegation(){return this._delegation}getPublicKey(){return{toDer:()=>this._delegation.publicKey}}sign(r){return this._inner.sign(r)}async transformRequest(r){const{body:t}=r,n=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var e=0;for(i=Object.getOwnPropertySymbols(r);e<i.length;e++)t.indexOf(i[e])<0&&Object.prototype.propertyIsEnumerable.call(r,i[e])&&(n[i[e]]=r[i[e]])}return n}(r,["body"]),i=await a(t);return Object.assign(Object.assign({},n),{body:{content:t,sender_sig:await this.sign(new Uint8Array([...d,...new Uint8Array(i)])),sender_delegation:this._delegation.delegations,sender_pubkey:this._delegation.publicKey}})}}function g(r,t){for(const{delegation:t}of r.delegations)if(+new Date(Number(t.expiration/BigInt(1e6)))<=+Date.now())return!1;const n=[],i=null==t?void 0:t.scope;i&&(Array.isArray(i)?n.push(...i.map((r=>"string"==typeof r?o.fromText(r):r))):n.push("string"==typeof i?o.fromText(i):i));for(const t of n){const n=t.toText();for(const{delegation:t}of r.delegations){if(void 0===t.targets)continue;let r=!0;for(const i of t.targets)if(i.toText()===n){r=!1;break}if(r)return!1}}return!0}var M,S;function m(r){return new Promise((function(t,n){r.oncomplete=r.onsuccess=function(){return t(r.result)},r.onabort=r.onerror=function(){return n(r.error)}}))}function x(r,t){var n=indexedDB.open(r);n.onupgradeneeded=function(){return n.result.createObjectStore(t)};var i=m(n);return function(r,n){return i.then((function(i){return n(i.transaction(t,r).objectStore(t))}))}}function O(){return S||(S=x("keyval-store","keyval")),S}function B(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O();return t("readonly",(function(t){return m(t.get(r))}))}function K(r,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O();return n("readwrite",(function(n){return n.put(t,r),m(n.transaction)}))}function T(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O();return t("readwrite",(function(t){return r.forEach((function(r){return t.put(r[1],r[0])})),m(t.transaction)}))}function k(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O();return t("readonly",(function(t){return Promise.all(r.map((function(r){return m(t.get(r))})))}))}function Y(r,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O();return n("readwrite",(function(n){return new Promise((function(i,e){n.get(r).onsuccess=function(){try{n.put(t(this.result),r),i(m(n.transaction))}catch(r){e(r)}}}))}))}function D(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O();return t("readwrite",(function(t){return t.delete(r),m(t.transaction)}))}!function(r){r[r.ECDSA_WITH_SHA256=-7]="ECDSA_WITH_SHA256"}(M||(M={}));export{E as D,p as E,k as a,U as b,x as c,_ as d,D as e,T as f,B as g,g as i,K as s,Y as u}